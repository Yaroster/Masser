<?phpclass Language{    private $Page;    private $Id;    private $Abbreviation;    private $Detail;    private $Full;    private $Texts;    private $English;    private $Heavy;    public function __construct($Page, $Abbreviation, $LoadTexts = false)    {        $this->Page = $Page;        if (is_numeric($Abbreviation)) {            $Result = mysql_query("SELECT * FROM lang WHERE id = $Abbreviation");        } else if (preg_match($Page->GetFunctions()->GetConstants()->GetTextRegex(), $Abbreviation)) {            $Result = mysql_query("SELECT * FROM lang WHERE abbrev = '$Abbreviation'");        }        if (!isset($Result) || !mysql_num_rows($Result)) {            return;        }        $Row = mysql_fetch_row($Result);        $this->Id = $Row[0];        $this->Abbreviation = $Row[1];        $this->Detail = $Row[2];        $this->Full = utf8_encode($Row[3]);        $this->English = $Row[4];        if ($LoadTexts) {            $Result = mysql_query('SELECT * FROM wranslation WHERE lang = ' . $this->Id . ' AND heavy = 0');            while ($Values = mysql_fetch_assoc($Result)) {                $this->Texts[$Values['abbrev']] = $Values['content'];            }        }        $this->Heavy = false;    }    public function GetId()    {        return $this->Id;    }    public function GetAbbreviation()    {        return $this->Abbreviation;    }    public function GetDetail()    {        return $this->Detail;    }    public function GetFull()    {        return $this->Full;    }    public function GetEnglish()    {        return $this->English;    }    public function GetText($Name, $Args = array())    {        if (isset($this->Texts[$Name])) {            $Value = $this->Texts[$Name];        }        if (!isset($Value) || $Value == null) {            return $Name;        } else {            $Count = 0;            foreach ($Args as $Arg) {                $Value = str_replace('{' . $Count . '}', $Arg, $Value);                $Count++;            }        }        return utf8_encode($Value);    }    public function LoadHeavy()    {        if (!$this->Heavy) {            $Result = mysql_query('SELECT * FROM wranslation WHERE lang = ' . $this->Id . ' AND heavy = 1');            while ($Values = mysql_fetch_assoc($Result)) {                $this->Texts[$Values['abbrev']] = $Values['content'];            }        }    }}?>